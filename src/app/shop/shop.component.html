<!-- @format -->

<div class="imacontainer">
    <div class="subheader position-relative">
        <div class="subheadings">
            <h2 class="text-uppercase">Shop</h2>
        </div>
        <img src="assets/images/contestant-headerbg.jpg" class="img-fluid" />
    </div>
    <div
        class="content-middle shop-section position-relative"
        *ngIf="!isNodata"
    >
        <div class="topcartright clearfix" *ngIf="sessionService.isAuth">
            <div class="cartsection text-center">
                <div class="position-relative">
                    <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                    <span class="rounded-circle cartcount">5</span>
                </div>
            </div>
        </div>
        <div class="shopsearch position-relative">
            <div class="row">
                <div class="col-md-12">
                    <form>
                        <div class="row align-items-center shoptopsearch">
                            <div
                                class="col-md-4 my-1 searchinput position-relative"
                            >
                                <input
                                    type="text"
                                    class="form-control"
                                    id="inlineFormInputName"
                                    placeholder="Search for items"
                                />
                                <span class="search-icon"></span>
                            </div>
                            <div
                                class="col-md-2 my-1 searchinput position-relative"
                            >
                                <input
                                    type="text"
                                    class="form-control"
                                    id="inlineFormInputName"
                                    placeholder="Search for items"
                                />
                            </div>
                            <div class="col-auto my-1 shop-srbtn">
                                <button
                                    type="submit"
                                    class="btn btn-dark text-uppercase"
                                >
                                    Search
                                </button>
                            </div>
                        </div>

                        <div class="row align-items-center shopfilter">
                            <div class="col-md-10">
                                <div class="row">
                                    <div class="col-md-4">
                                        <a
                                            href="#"
                                            class="text-decoration-none text-truncate"
                                        >
                                            <i
                                                class="fa fa-caret-down"
                                                aria-hidden="true"
                                            ></i>
                                            Filter listings by Model</a
                                        >
                                    </div>
                                    <div class="col-md-4">
                                        <a
                                            href="#"
                                            class="text-decoration-none text-truncate"
                                        >
                                            <i
                                                class="fa fa-caret-down"
                                                aria-hidden="true"
                                            ></i>
                                            Filter listings by Contestants</a
                                        >
                                    </div>
                                    <div class="col-md-4">
                                        <a
                                            href="#"
                                            class="text-decoration-none text-truncate"
                                        >
                                            <i
                                                class="fa fa-caret-down"
                                                aria-hidden="true"
                                            ></i>
                                            Filter listings by IMA</a
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div
            class="row shoplisting"
            *ngFor="let product of productList.data; let productIndex = index; trackBy: trackById"
        >
            <div class="col-lg-7 col-md-6">
                <div class="cartimglisting d-flex">
                    <div class="mr-3 cartmiouter">
                        <div class="cartmainimage position-relative">
                            <app-attachment
                                [attachment]="product.showDetail.panelImage"
                                [type]="original"
                                [cssClass]="'shopattimage'"
                            ></app-attachment>
                            <a href="javascript:void(0)" (click)="redirect(product.user)" class="cartuserimg">
                                <app-attachment
                                [attachment]="product.user.attachment"
                                [type]="original"
                                [cssClass]="'rounded-circle'"
                            ></app-attachment>
                            </a>
                        </div>
                    </div>
                    <div class="cartlistthumbnails" *ngIf="product.showDetail.attachments.length > 1">
                        <a href="javascript:void(0)" class="mb-3" *ngFor="let attachmentDetail of product.showDetail.attachments" (click)="changeImage(product, attachmentDetail)">
                            <app-attachment
                            [attachment]="attachmentDetail"
                            [type]="original"
                            [cssClass]="'shopattimage'"
                        ></app-attachment>
                        </a>
                    </div>
                </div>
                <div class="slectcolors">
                    <span class="text-uppercase availcoltext mr-3"
                        >Available Colors</span
                    >
                    <span>
                        <a *ngFor="let color of product.colors; let i = index;trackBy: trackById"
                            href="javascript:void(0)"
                            (click)="changeDetail(productIndex, i)"
                            [ngStyle]="{'background-color': color.color}"
                            class="availcolorsselect ml-2"
                        ></a>
                    </span>
                </div>
            </div>
            <div class="col-md-5">
                <form>
                    <div class="shopqtyarea d-flex justify-content-end" *ngIf="sessionService.isAuth">
                        <div class="cartquantity text-center">
                            <p class="text-uppercase ctqtytext">Quantity</p>
                            <div class="ctquantityinput">
                                <button class="ctqtydecr"></button>
                                <input
                                    type="number"
                                    class="quantityinput"
                                    value="1"
                                />
                                <button class="ctqtyincr"></button>
                            </div>
                            <p class="mt-2 quntyremain m-0">
                                Only 5 items left
                            </p>
                        </div>
                    </div>
                    <div class="productcartdesc">
                        <h2 class="m-0 mb-1 p-0 text-truncate">
                            {{ product.name }}
                        </h2>
                        <p>
                            {{ product.description }}
                        </p>
                    </div>
                    <div class="product-availsizes" *ngIf="product.showDetail.sizes.length > 1">
                        <span class="text-uppercase">Available Sizes</span>
                        <a href="javascript:void(0)" class="text-uppercase" *ngFor="let size of product.showDetail.sizes">{{size.size.name}}</a>
                    </div>
                    <div class="d-flex justify-content-end mt-1">
                        <div class="d-flex flex-column cartdetails">
                            <p class="text-center discount-details m-0 mt-1" *ngIf="sessionService.isAuth">
                                <span>10% discount</span> available
                            </p>
                            <input *ngIf="sessionService.isAuth"
                                class="discountcode text-center text-uppercase"
                                placeholder="Enter Code"
                            />
                            <button class="btn btn-primary cart-btn mt-4" type="button" (click)="addToCart()">
                                <i
                                    class="fa fa-shopping-cart"
                                    aria-hidden="true"
                                ></i>
                                {{ product.showDetail.amount_detail.price | currency: settings.CURRENCY_CODE:'symbol' }}
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="content-middle contestants-section" *ngIf="isNodata">
        <div class="row mb-4">
            <div class="col-md-7">
                No Records
            </div>
        </div>
    </div>
</div>
